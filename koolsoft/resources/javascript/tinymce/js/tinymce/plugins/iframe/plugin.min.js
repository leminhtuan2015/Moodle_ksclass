tinymce.PluginManager.add('iframe', function(editor, url) {
    // Add a button that opens a window
    editor.addButton('iframe', {
        text: 'My button',
        icon: false,
        onclick: function() {
            // Open window
            editor.windowManager.open({
                title: 'Example plugin',
                body: [
                    {type: 'textbox', name: 'title', label: 'Title'}
                ],
                onsubmit: function(e) {
                    // Insert content when the window form is submitted
                    editor.insertContent('Title: ' + e.data.title);
                }
            });
        }
    });

    // Adds a menu item to the tools menu
    editor.addMenuItem('iframe', {
        text: 'PDF file',
        context: 'insert',
        onclick: function() {
            // Open window with a specific url
            editor.windowManager.open({
                title: 'Insert PDF file',
                body: [
                    {type: 'textbox', name: 'title', label: 'PDF Source'},
                    {type: 'button', name: 'browser', label: 'Select from library', text: "Browse"},
                ],
                // url: '/moodle/koolsoft/resources/javascript/tinymce/js/tinymce/plugins/iframe/content.php',
                width: 600,
                height: 500,
                buttons: [
                    {text: 'Close', onclick: 'close'},
                    {text: 'Ok', onclick: 'submit'}
                ],
                onsubmit: function(e) {
                    content ="<iframe " +
                        "src='http://docs.google.com/gview?url=" +
                        e.data.title +
                        "&embedded=true' " +
                        "style='width:800px; height:500px;' frameborder='0'>" +
                        "</iframe>"

                    // Insert content when the window form is submitted: http://infolab.stanford.edu/pub/papers/google.pdf
                    // editor.insertContent(e.data.title);
                    editor.insertContent(content);
                }
            });
        }
    });

    // var container = '<h1>hello</h1>';
    //
    // $('body').append(container);
});